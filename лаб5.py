print("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –Ω–∞—É—á–Ω–æ–π –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏")
print("=" * 45)

# –í–≤–æ–¥ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–º–∏–ª–∏–∏
while True:
    last_name = input("–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é: ").strip()
    if len(last_name) == 0:
        print("–û—à–∏–±–∫–∞: –§–∞–º–∏–ª–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π!")
        continue
    if len(last_name) < 2:
        print("–û—à–∏–±–∫–∞: –§–∞–º–∏–ª–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 –±—É–∫–≤—ã!")
        continue
    if not last_name.replace("-", "").isalpha():
        print("–û—à–∏–±–∫–∞: –§–∞–º–∏–ª–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã!")
        continue
    break

# –í–≤–æ–¥ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏
while True:
    first_name = input("–í–≤–µ–¥–∏—Ç–µ –∏–º—è: ").strip()
    if len(first_name) == 0:
        print("–û—à–∏–±–∫–∞: –ò–º—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π!")
        continue
    if len(first_name) < 2:
        print("–û—à–∏–±–∫–∞: –ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 –±—É–∫–≤—ã!")
        continue
    if not first_name.replace("-", "").isalpha():
        print("–û—à–∏–±–∫–∞: –ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã!")
        continue
    break

# –í–≤–æ–¥ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞
while True:
    age_input = input("–í–≤–µ–¥–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç: ").strip()
    if not age_input.isdigit():
        print("–û—à–∏–±–∫–∞: –í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º!")
        continue
    
    age = int(age_input)
    if age < 18:
        print("–û—à–∏–±–∫–∞: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç —É—á–∞—Å—Ç–∏—è - 18 –ª–µ—Ç!")
        continue
    if age > 90:
        print("–û—à–∏–±–∫–∞: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç —É—á–∞—Å—Ç–∏—è - 90 –ª–µ—Ç!")
        continue
    break

# –í–≤–æ–¥ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —É—á–∞—Å—Ç–∏—è
while True:
    print("\n–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç —É—á–∞—Å—Ç–∏—è:")
    print("1 - –û–Ω–ª–∞–π–Ω")
    print("2 - –û—Ñ—Ñ–ª–∞–π–Ω")
    format_choice = input("–í–∞—à –≤—ã–±–æ—Ä (1 –∏–ª–∏ 2): ").strip()
    
    if format_choice == "1":
        participation_format = "–û–ù–õ–ê–ô–ù"
        break
    elif format_choice == "2":
        participation_format = "–û–§–§–õ–ê–ô–ù"
        break
    else:
        print("–û—à–∏–±–∫–∞: –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ 1 –∏–ª–∏ 2!")
        continue

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –±–∏–ª–µ—Ç–∞
import random
import datetime
ticket_number = f"TK-{random.randint(1000, 9999)}"

# –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–∞
print("\n" + "=" * 45)
print("üé´ –ë–ò–õ–ï–¢ –£–ß–ê–°–¢–ù–ò–ö–ê –ö–û–ù–§–ï–†–ï–ù–¶–ò–ò")
print("=" * 45)
print(f"‚Ññ –±–∏–ª–µ—Ç–∞: {ticket_number}")
print(f"–§–∞–º–∏–ª–∏—è: {last_name.upper()}")
print(f"–ò–º—è: {first_name.upper()}")
print(f"–í–æ–∑—Ä–∞—Å—Ç: {age} –ª–µ—Ç")
print(f"–§–æ—Ä–º–∞—Ç: {participation_format}")
print(f"–î–∞—Ç–∞: {datetime.datetime.now().strftime('%d.%m.%Y')}")
print("-" * 45)

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞
if participation_format == "–û–ù–õ–ê–ô–ù":
    print("üíª –°—Å—ã–ª–∫–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞")
    print("   –Ω–∞ –≤–∞—à—É —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É")
else:
    print("üèõÔ∏è  –ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è: –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü-–∑–∞–ª")
    print("   —É–ª. –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è, 15")

print("=" * 45)
print("–ñ–µ–ª–∞–µ–º —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è!")
print("=" * 45)
